# 数据库操作封装
import pymysql
import os
import yaml
import numpy as np


# 导入本地包
from logs.logger import DailyLogger
from Qdrant import Qdrant

class DataBASE():
    def __init__(self):
        # self.connection=None
        # self.cursor = None
        self.config=None
        # 初始化数据库
        self.LoadProfile()
        # 初始化日志模块
        self.log=DailyLogger("数据库")
        # 向量数据库
        self.vector=Qdrant()


    # 加载配置文件连接数据库
    def LoadProfile(self,):
        # 导本地包
        base_dir = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
        # 构建database.yaml文件的路径
        config_path = os.path.join(base_dir, 'config', 'database.yaml')
        # 使用PyYAML加载yaml文件
        with open(config_path, 'r', encoding='utf-8') as file:
            self.config = yaml.safe_load(file)
    # 写入商品信息
    def WriteCommodityData(self,name, price, category_name, eigenvector:list):
        '''
        :param name: 商品名称
        :param price: 金额 2.00
        :param category_name: 类别
        :param eigenvector: 向量 list
        :return:
        '''
        connection = pymysql.connect(**self.config["config"])
        cursor = connection.cursor()
        # 检查类别
        if category_name not in self.config["VALID_CATEGORIES"]:
            self.log.warning(f"不支持的类别: {category_name}")
        # 自动生成ID 从 id_counter 表获取并更新 next_id
        cursor.execute("""
                       UPDATE id_counter 
                       SET next_id = LAST_INSERT_ID(next_id + 1) 
                       WHERE category_name = %s
                   """, (category_name,))
        cursor.execute("SELECT LAST_INSERT_ID()")  # 获取更新前的值
        result = cursor.fetchone()
        if not result:
            self.log.warning(f"无法生成 ID：未找到类别 {category_name}")
        current_id = result[0]  # 获取当前编号（更新前的值）
        # 查询前缀（B/X/C/S）
        cursor.execute("""
                     SELECT category_prefix FROM id_counter WHERE category_name = %s
                 """, (category_name,))
        prefix = cursor.fetchone()[0]

        # 生成最终 ID：B001
        product_id = f"{prefix}{current_id:03d}"
        self.log.info(f"✅ 自动分配商品ID: {product_id}")
        # 将商品信息写入到主表
        insert_product = """
                   INSERT INTO products (id, name, price, category)
                   VALUES (%s, %s, %s, %s)
                   """
        cursor.execute(insert_product, (product_id, name, price, category_name))
        # 将特征写到向量特征库中
        points=[]
        for feature in eigenvector:
            # 插入mysql
            cursor.execute("INSERT INTO feature_mappings (product_id ) VALUES (%s)",(product_id))
            # 获取插入自增 ID
            feature_id = cursor.lastrowid
            points.append({"id":feature_id,"vector":feature.tolist()})
        self.vector.DataStorage(points)
        connection.commit()

        # 关闭连接
        if cursor:
            cursor.close()
        if connection:
            connection.close()

    # 删除商品
    def DeleteCommodit(self,commoditID):
        # 删除商品表的信息然后查询特征表有关的ID并删除同时向量中的ID
        pass

    # 通过特征值关联的商品ID查询商品信息
    def InquireData(self,FeatureID):
        # 检查输入
        connection = None
        cursor = None
        try:
            # 1️⃣ 连接数据库
            connection = pymysql.connect(**self.config["config"])
            cursor = connection.cursor()
            # 先查特征表
            query_feature = """
            SELECT product_id
            FROM feature_mappings
            WHERE feature_id  = %s
            """
            original=[]
            for id in FeatureID:
                cursor.execute(query_feature, (id,))
                original.append(cursor.fetchone()[0])
            # 多结果去重
            unique = list(dict.fromkeys(original))
            print(unique)

            # 查主表
            query_sql = """
            SELECT id, name, price,category
            FROM products
            WHERE id = %s
            """
            CommodityData=[]
            for id in unique:
                # 执行查询
                cursor.execute(query_sql, (id,))
                # 获取结果
                result = cursor.fetchone()  # fetchone()：只查一条（ID 唯一）
                CommodityData.append({"id":result[0],"name":result[1],"peice":float(result[2]),"category":result[3]})
            # 判断是否查到
            if CommodityData is None:
                self.log.error(f"特征ID商品无信息")
                return None
            else:
                return CommodityData
        except Exception as e:
            self.log.error(f"❌查询过程中发生错误: {e}")
            return None
        finally:
            if cursor:
                cursor.close()
            if connection:
                connection.close()








if __name__=="__main__":
    A = [0.0966968908905983, 0.28228330612182617, 0.139396533370018, 0.5610970258712769, 0.5653709173202515,
                   0.6098260283470154, 0.04023052006959915, 0.10993799567222595, 1.4098211526870728,
                   0.17007969319820404, 0.9854581952095032, 0.40763169527053833, 0.03692227974534035,
                   0.25976067781448364, 1.036252737045288, 1.160696029663086, 0.2230655997991562, 0.8210704922676086,
                   0.12039507180452347, 0.1462172418832779, 0.20603062212467194, 0.22612065076828003,
                   0.2127377986907959, 0.10330362617969513, 1.1033198833465576, 0.10780944675207138, 1.48527991771698,
                   0.26879388093948364, 0.09195241332054138, 1.5304017066955566, 0.4218766987323761,
                   0.46324461698532104, 0.7372391819953918, 0.4588205814361572, 3.036320447921753, 0.0707152783870697,
                   0.21476714313030243, 0.7130534648895264, 0.33187204599380493, 0.23693351447582245,
                   1.1030206680297852, 0.6837695240974426, 0.19799888134002686, 0.8941788077354431, 0.2109590619802475,
                   0.7274672985076904, 3.3868565559387207, 0.18781541287899017, 1.7225145101547241, 0.06390547007322311,
                   2.0573182106018066, 3.833681106567383, 0.8270318508148193, 0.4683707058429718, 0.38618889451026917,
                   0.28699952363967896, 0.6656185984611511, 0.29125484824180603, 0.45304402709007263,
                   0.055935341864824295, 3.0027902126312256, 0.14628644287586212, 0.312771201133728, 0.6549032926559448,
                   0.5987541675567627, 0.07629366964101791, 1.0175234079360962, 1.9482401609420776, 1.2648462057113647,
                   0.6620522141456604, 2.207198143005371, 1.1658023595809937, 0.0964871495962143, 0.4206664264202118,
                   2.442636013031006, 1.2751649618148804, 0.8186084628105164, 0.3289969563484192, 0.3545837998390198,
                   1.0757057666778564, 0.6469294428825378, 2.812988519668579, 2.2329649925231934, 1.8522977828979492,
                   2.5239436626434326, 0.2727644741535187, 0.43166786432266235, 0.07790382206439972, 0.4775041341781616,
                   0.15664072334766388, 0.5914517641067505, 3.0940816402435303, 2.033216714859009, 1.4834554195404053,
                   1.1310195922851562, 0.3551430106163025, 0.16247232258319855, 3.6943039894104004, 0.363906592130661,
                   0.3758799731731415, 1.7806601524353027, 0.1840142160654068, 3.85676908493042, 0.7851149439811707,
                   0.38037407398223877, 0.1963518261909485, 0.14975668489933014, 0.9590897560119629, 2.0808563232421875,
                   0.399639755487442, 0.13022829592227936, 0.30112236738204956, 0.5224039554595947, 0.7759064435958862,
                   2.623481035232544, 1.0010721683502197, 0.9629053473472595, 4.335246562957764, 1.1446716785430908,
                   0.1961420327425003, 1.54193115234375, 0.050141602754592896, 1.2696820497512817, 0.10663577169179916,
                   2.6646666526794434, 0.6640540957450867, 0.09485549479722977, 0.5459708571434021, 1.6346421241760254,
                   0.7568179368972778, 0.4347820281982422, 4.01494836807251, 1.1804569959640503, 3.436823606491089,
                   0.03270279988646507, 0.489391952753067, 1.935557246208191, 1.0623414516448975, 0.08426203578710556,
                   1.250851035118103, 0.44063326716423035, 3.1899662017822266, 3.009006977081299, 0.045651502907276154,
                   2.0814738273620605, 0.22326044738292694, 1.1453157663345337, 0.7711162567138672, 3.2776620388031006,
                   0.13886533677577972, 0.32449430227279663, 0.5817636847496033, 0.3959316611289978,
                   0.18758590519428253, 0.23454947769641876, 1.657630443572998, 0.5305470824241638, 0.34709325432777405,
                   0.6351085901260376, 1.400782823562622, 1.8539291620254517, 0.7073407769203186, 0.0917816162109375,
                   2.2920663356781006, 0.29666417837142944, 0.10718070715665817, 2.527172327041626, 0.8423516154289246,
                   0.6816800832748413, 2.516284704208374, 1.2528233528137207, 1.473043441772461, 0.02353687584400177,
                   0.44764041900634766, 0.5931056141853333, 0.18258211016654968, 1.1039674282073975, 0.4128803610801697,
                   1.2814463376998901, 4.179983615875244, 0.12154977768659592, 0.9398561120033264, 0.9785689115524292,
                   0.6504276394844055, 0.33875349164009094, 0.4509516954421997, 0.14279450476169586, 0.7628860473632812,
                   1.1230841875076294, 3.608250141143799, 0.2408865988254547, 1.0822983980178833, 0.11023901402950287,
                   0.5304608941078186, 0.06619289517402649, 1.2488105297088623, 0.7701213359832764, 1.378842830657959,
                   0.03508862107992172, 0.1293479949235916, 0.022291002795100212, 0.032356273382902145,
                   0.5406875014305115, 0.4406643211841583, 0.32186323404312134, 0.36282283067703247, 1.1135761737823486,
                   1.2864192724227905, 0.26872774958610535, 0.09145672619342804, 0.1464574933052063, 0.3319445848464966,
                   0.9323642253875732, 0.44084376096725464, 0.10756845027208328, 1.546324610710144, 0.08803299069404602,
                   2.836465358734131, 1.030083179473877, 0.045897647738456726, 0.20101824402809143,
                   0.035463228821754456, 0.405097633600235, 1.309758186340332, 0.26503363251686096, 1.8395264148712158,
                   0.14930742979049683, 1.5889508724212646, 0.1050599217414856, 1.2481964826583862, 1.5917080640792847,
                   2.6435275077819824, 0.5555945038795471, 0.42930757999420166, 0.24333350360393524, 0.9790834784507751,
                   0.03970670700073242, 0.07720934599637985, 0.8312594294548035, 0.06379365175962448,
                   2.7367477416992188, 2.4645073413848877, 0.17579424381256104, 0.7361369729042053, 0.12253739684820175,
                   0.09020118415355682, 1.319928526878357, 0.4530933201313019, 0.21041631698608398, 1.8197143077850342,
                   0.4878346920013428, 0.4043027460575104, 0.1942407786846161, 1.6618214845657349, 2.0409164428710938,
                   1.1205437183380127, 2.0275564193725586, 4.081525802612305, 0.4159076511859894, 0.5071179270744324,
                   1.4804332256317139, 0.3223016858100891, 0.11062808334827423, 0.11987230181694031,
                   0.15510804951190948, 2.893383264541626, 1.674664855003357, 0.2356136441230774, 0.013580352067947388,
                   1.339470386505127, 3.874051094055176, 2.4618265628814697, 0.11696154624223709, 2.286303758621216,
                   0.8641640543937683, 0.19236741960048676, 0.8995171785354614, 0.25853031873703003, 0.4165023863315582,
                   1.4844568967819214, 0.36776673793792725, 2.0114147663116455, 1.9559357166290283, 0.12187329679727554,
                   0.146095409989357, 0.4740957021713257, 1.072812795639038, 2.709047555923462, 0.9006595015525818,
                   0.7381318211555481, 0.17395053803920746, 0.07667028158903122, 0.12676353752613068,
                   1.1814717054367065, 0.6308461427688599, 2.081371545791626, 0.35680845379829407, 2.3564350605010986,
                   0.0068466635420918465, 2.8540470600128174, 0.3699076771736145, 1.547528862953186, 1.9194384813308716,
                   0.23636232316493988, 1.1757649183273315, 0.5545548796653748, 1.544592261314392, 0.42058756947517395,
                   0.2268742471933365, 1.633313775062561, 0.9321864247322083, 2.2239677906036377, 0.0938425362110138,
                   0.28539204597473145, 1.3612060546875, 0.18086077272891998, 1.1306828260421753, 0.5518671274185181,
                   1.4136563539505005, 0.39298418164253235, 1.198900818824768, 0.20184531807899475, 1.1228498220443726,
                   3.3729491233825684, 0.10053780674934387, 0.061383508145809174, 0.6549081206321716,
                   0.1655985563993454, 1.0932551622390747, 0.1659921556711197, 2.8378360271453857, 2.8644444942474365,
                   1.0004441738128662, 0.17423345148563385, 1.2061619758605957, 0.32401782274246216,
                   0.20779317617416382, 0.4595928490161896, 0.2681322693824768, 1.3014041185379028, 0.8492602705955505,
                   1.6458137035369873, 0.5476232767105103, 3.010941505432129, 1.626879096031189, 0.06124633178114891,
                   1.505051851272583, 0.5711970329284668, 0.12035666406154633, 2.296193838119507, 0.22460880875587463,
                   0.10440343618392944, 1.7848131656646729, 0.19505636394023895, 0.7130483388900757, 1.0499091148376465,
                   1.923864722251892, 2.111581563949585, 0.3789271414279938, 0.040173936635255814, 1.236225962638855,
                   1.6746975183486938, 0.4139232039451599, 2.2589001655578613, 0.23387600481510162, 2.083672046661377,
                   0.06681463867425919, 1.9643601179122925, 2.3449759483337402, 0.18393594026565552, 3.4503257274627686,
                   0.3521401882171631, 0.339179664850235, 0.13629946112632751, 1.6202677488327026, 0.7207730412483215,
                   0.13826730847358704, 0.9376044273376465, 0.24365249276161194, 0.05985117331147194,
                   0.14982464909553528, 1.3277136087417603, 2.3790884017944336, 1.418587327003479, 1.081516146659851,
                   0.2757633328437805, 1.2378040552139282, 2.452177047729492, 2.280139446258545, 2.347184658050537,
                   1.5121464729309082, 0.1714886575937271, 1.3971102237701416, 0.2291547954082489, 0.6694675087928772,
                   0.0013651300687342882, 0.2404896467924118, 0.07221236079931259, 0.06409123539924622,
                   1.471671223640442, 1.2445902824401855, 0.731417179107666, 0.154313862323761, 0.3694199025630951,
                   0.08019711077213287, 0.2071654200553894, 1.4903987646102905, 1.3820140361785889, 2.4032890796661377,
                   0.641279399394989, 0.6206526160240173, 0.39808401465415955, 0.6779488921165466, 1.201406478881836,
                   0.9698944091796875, 2.0674796104431152, 0.23659206926822662, 0.2921018898487091, 0.01607183739542961,
                   0.7669158577919006, 0.23211123049259186, 1.1350760459899902, 0.2569613456726074, 0.978569507598877,
                   1.4795584678649902, 1.4249348640441895, 1.8898632526397705, 0.5156894326210022, 0.2922567129135132,
                   0.4919678866863251, 0.1328771412372589, 1.123548150062561, 1.7501938343048096, 0.2152014523744583,
                   0.33061981201171875, 1.627301573753357, 0.3724079430103302, 2.489748477935791, 0.1665288209915161,
                   1.4909541606903076, 0.07862386852502823, 0.6303119659423828, 2.7867228984832764, 1.8002865314483643,
                   1.6107254028320312, 0.8335363268852234, 0.2814203202724457, 0.15204519033432007, 0.2496175765991211,
                   1.3043569326400757, 0.12728579342365265, 0.5402746796607971, 1.253543496131897, 2.114412307739258,
                   0.13924556970596313, 2.6689651012420654, 0.1535838395357132, 0.09957196563482285, 1.9548157453536987,
                   1.5606483221054077, 0.099445641040802, 0.2078694850206375, 0.025760343298316002, 0.4088772237300873,
                   0.49235618114471436, 0.08434246480464935, 0.33973878622055054, 0.07485979050397873,
                   0.37410280108451843, 0.06458346545696259, 1.6308162212371826, 1.8235102891921997, 0.6940027475357056,
                   0.3171449303627014, 0.35268634557724, 1.442458152770996, 1.4255774021148682, 3.6232614517211914,
                   0.23557859659194946, 0.07891509681940079, 2.306989908218384, 2.8850550651550293, 1.4269081354141235,
                   3.1068778038024902, 0.08930360525846481, 1.318707823753357, 0.10135520249605179, 0.5297150611877441,
                   1.1408588886260986, 0.011510439217090607, 0.17899852991104126, 0.20799387991428375,
                   1.912956714630127, 1.1868338584899902, 0.5759821534156799, 0.9461681246757507, 0.07836823165416718,
                   0.5995672345161438, 0.02347278967499733, 2.477078676223755, 0.11864331364631653, 0.9908527731895447,
                   0.7757266759872437, 0.40709561109542847, 1.357357382774353, 0.5069490671157837, 0.6651172041893005,
                   0.43849655985832214, 2.231919765472412, 0.44415733218193054, 0.6638281345367432, 2.8851118087768555]
    B = [0.0966968908905983, 0.28228330612182617, 0.139396533370018, 0.5610970258712769, 0.5653709173202515,
                   0.6098260283470154, 0.04023052006959915, 0.10993799567222595, 1.4098211526870728,
                   0.17007969319820404, 0.9854581952095032, 0.40763169527053833, 0.03692227974534035,
                   0.25976067781448364, 1.036252737045288, 1.160696029663086, 0.2230655997991562, 0.8210704922676086,
                   0.12039507180452347, 0.1462172418832779, 0.20603062212467194, 0.22612065076828003,
                   0.2127377986907959, 0.10330362617969513, 1.1033198833465576, 0.10780944675207138, 1.48527991771698,
                   0.26879388093948364, 0.09195241332054138, 1.5304017066955566, 0.4218766987323761,
                   0.46324461698532104, 0.7372391819953918, 0.4588205814361572, 3.036320447921753, 0.0707152783870697,
                   0.21476714313030243, 0.7130534648895264, 0.33187204599380493, 0.23693351447582245,
                   1.1030206680297852, 0.6837695240974426, 0.19799888134002686, 0.8941788077354431, 0.2109590619802475,
                   0.7274672985076904, 3.3868565559387207, 0.18781541287899017, 1.7225145101547241, 0.06390547007322311,
                   2.0573182106018066, 3.833681106567383, 0.8270318508148193, 0.4683707058429718, 0.38618889451026917,
                   0.28699952363967896, 0.6656185984611511, 0.29125484824180603, 0.45304402709007263,
                   0.055935341864824295, 3.0027902126312256, 0.14628644287586212, 0.312771201133728, 0.6549032926559448,
                   0.5987541675567627, 0.07629366964101791, 1.0175234079360962, 1.9482401609420776, 1.2648462057113647,
                   0.6620522141456604, 2.207198143005371, 1.1658023595809937, 0.0964871495962143, 0.4206664264202118,
                   2.442636013031006, 1.2751649618148804, 0.8186084628105164, 0.3289969563484192, 0.3545837998390198,
                   1.0757057666778564, 0.6469294428825378, 2.812988519668579, 2.2329649925231934, 1.8522977828979492,
                   2.5239436626434326, 0.2727644741535187, 0.43166786432266235, 0.07790382206439972, 0.4775041341781616,
                   0.15664072334766388, 0.5914517641067505, 3.0940816402435303, 2.033216714859009, 1.4834554195404053,
                   1.1310195922851562, 0.3551430106163025, 0.16247232258319855, 3.6943039894104004, 0.363906592130661,
                   0.3758799731731415, 1.7806601524353027, 0.1840142160654068, 3.85676908493042, 0.7851149439811707,
                   0.38037407398223877, 0.1963518261909485, 0.14975668489933014, 0.9590897560119629, 2.0808563232421875,
                   0.399639755487442, 0.13022829592227936, 0.30112236738204956, 0.5224039554595947, 0.7759064435958862,
                   2.623481035232544, 1.0010721683502197, 0.9629053473472595, 4.335246562957764, 1.1446716785430908,
                   0.1961420327425003, 1.54193115234375, 0.050141602754592896, 1.2696820497512817, 0.10663577169179916,
                   2.6646666526794434, 0.6640540957450867, 0.09485549479722977, 0.5459708571434021, 1.6346421241760254,
                   0.7568179368972778, 0.4347820281982422, 4.01494836807251, 1.1804569959640503, 3.436823606491089,
                   0.03270279988646507, 0.489391952753067, 1.935557246208191, 1.0623414516448975, 0.08426203578710556,
                   1.250851035118103, 0.44063326716423035, 3.1899662017822266, 3.009006977081299, 0.045651502907276154,
                   2.0814738273620605, 0.22326044738292694, 1.1453157663345337, 0.7711162567138672, 3.2776620388031006,
                   0.13886533677577972, 0.32449430227279663, 0.5817636847496033, 0.3959316611289978,
                   0.18758590519428253, 0.23454947769641876, 1.657630443572998, 0.5305470824241638, 0.34709325432777405,
                   0.6351085901260376, 1.400782823562622, 1.8539291620254517, 0.7073407769203186, 0.0917816162109375,
                   2.2920663356781006, 0.29666417837142944, 0.10718070715665817, 2.527172327041626, 0.8423516154289246,
                   0.6816800832748413, 2.516284704208374, 1.2528233528137207, 1.473043441772461, 0.02353687584400177,
                   0.44764041900634766, 0.5931056141853333, 0.18258211016654968, 1.1039674282073975, 0.4128803610801697,
                   1.2814463376998901, 4.179983615875244, 0.12154977768659592, 0.9398561120033264, 0.9785689115524292,
                   0.6504276394844055, 0.33875349164009094, 0.4509516954421997, 0.14279450476169586, 0.7628860473632812,
                   1.1230841875076294, 3.608250141143799, 0.2408865988254547, 1.0822983980178833, 0.11023901402950287,
                   0.5304608941078186, 0.06619289517402649, 1.2488105297088623, 0.7701213359832764, 1.378842830657959,
                   0.03508862107992172, 0.1293479949235916, 0.022291002795100212, 0.032356273382902145,
                   0.5406875014305115, 0.4406643211841583, 0.32186323404312134, 0.36282283067703247, 1.1135761737823486,
                   1.2864192724227905, 0.26872774958610535, 0.09145672619342804, 0.1464574933052063, 0.3319445848464966,
                   0.9323642253875732, 0.44084376096725464, 0.10756845027208328, 1.546324610710144, 0.08803299069404602,
                   2.836465358734131, 1.030083179473877, 0.045897647738456726, 0.20101824402809143,
                   0.035463228821754456, 0.405097633600235, 1.309758186340332, 0.26503363251686096, 1.8395264148712158,
                   0.14930742979049683, 1.5889508724212646, 0.1050599217414856, 1.2481964826583862, 1.5917080640792847,
                   2.6435275077819824, 0.5555945038795471, 0.42930757999420166, 0.24333350360393524, 0.9790834784507751,
                   0.03970670700073242, 0.07720934599637985, 0.8312594294548035, 0.06379365175962448,
                   2.7367477416992188, 2.4645073413848877, 0.17579424381256104, 0.7361369729042053, 0.12253739684820175,
                   0.09020118415355682, 1.319928526878357, 0.4530933201313019, 0.21041631698608398, 1.8197143077850342,
                   0.4878346920013428, 0.4043027460575104, 0.1942407786846161, 1.6618214845657349, 2.0409164428710938,
                   1.1205437183380127, 2.0275564193725586, 4.081525802612305, 0.4159076511859894, 0.5071179270744324,
                   1.4804332256317139, 0.3223016858100891, 0.11062808334827423, 0.11987230181694031,
                   0.15510804951190948, 2.893383264541626, 1.674664855003357, 0.2356136441230774, 0.013580352067947388,
                   1.339470386505127, 3.874051094055176, 2.4618265628814697, 0.11696154624223709, 2.286303758621216,
                   0.8641640543937683, 0.19236741960048676, 0.8995171785354614, 0.25853031873703003, 0.4165023863315582,
                   1.4844568967819214, 0.36776673793792725, 2.0114147663116455, 1.9559357166290283, 0.12187329679727554,
                   0.146095409989357, 0.4740957021713257, 1.072812795639038, 2.709047555923462, 0.9006595015525818,
                   0.7381318211555481, 0.17395053803920746, 0.07667028158903122, 0.12676353752613068,
                   1.1814717054367065, 0.6308461427688599, 2.081371545791626, 0.35680845379829407, 2.3564350605010986,
                   0.0068466635420918465, 2.8540470600128174, 0.3699076771736145, 1.547528862953186, 1.9194384813308716,
                   0.23636232316493988, 1.1757649183273315, 0.5545548796653748, 1.544592261314392, 0.42058756947517395,
                   0.2268742471933365, 1.633313775062561, 0.9321864247322083, 2.2239677906036377, 0.0938425362110138,
                   0.28539204597473145, 1.3612060546875, 0.18086077272891998, 1.1306828260421753, 0.5518671274185181,
                   1.4136563539505005, 0.39298418164253235, 1.198900818824768, 0.20184531807899475, 1.1228498220443726,
                   3.3729491233825684, 0.10053780674934387, 0.061383508145809174, 0.6549081206321716,
                   0.1655985563993454, 1.0932551622390747, 0.1659921556711197, 2.8378360271453857, 2.8644444942474365,
                   1.0004441738128662, 0.17423345148563385, 1.2061619758605957, 0.32401782274246216,
                   0.20779317617416382, 0.4595928490161896, 0.2681322693824768, 1.3014041185379028, 0.8492602705955505,
                   1.6458137035369873, 0.5476232767105103, 3.010941505432129, 1.626879096031189, 0.06124633178114891,
                   1.505051851272583, 0.5711970329284668, 0.12035666406154633, 2.296193838119507, 0.22460880875587463,
                   0.10440343618392944, 1.7848131656646729, 0.19505636394023895, 0.7130483388900757, 1.0499091148376465,
                   1.923864722251892, 2.111581563949585, 0.3789271414279938, 0.040173936635255814, 1.236225962638855,
                   1.6746975183486938, 0.4139232039451599, 2.2589001655578613, 0.23387600481510162, 2.083672046661377,
                   0.06681463867425919, 1.9643601179122925, 2.3449759483337402, 0.18393594026565552, 3.4503257274627686,
                   0.3521401882171631, 0.339179664850235, 0.13629946112632751, 1.6202677488327026, 0.7207730412483215,
                   0.13826730847358704, 0.9376044273376465, 0.24365249276161194, 0.05985117331147194,
                   0.14982464909553528, 1.3277136087417603, 2.3790884017944336, 1.418587327003479, 1.081516146659851,
                   0.2757633328437805, 1.2378040552139282, 2.452177047729492, 2.280139446258545, 2.347184658050537,
                   1.5121464729309082, 0.1714886575937271, 1.3971102237701416, 0.2291547954082489, 0.6694675087928772,
                   0.0013651300687342882, 0.2404896467924118, 0.07221236079931259, 0.06409123539924622,
                   1.471671223640442, 1.2445902824401855, 0.731417179107666, 0.154313862323761, 0.3694199025630951,
                   0.08019711077213287, 0.2071654200553894, 1.4903987646102905, 1.3820140361785889, 2.4032890796661377,
                   0.641279399394989, 0.6206526160240173, 0.39808401465415955, 0.6779488921165466, 1.201406478881836,
                   0.9698944091796875, 2.0674796104431152, 0.23659206926822662, 0.2921018898487091, 0.01607183739542961,
                   0.7669158577919006, 0.23211123049259186, 1.1350760459899902, 0.2569613456726074, 0.978569507598877,
                   1.4795584678649902, 1.4249348640441895, 1.8898632526397705, 0.5156894326210022, 0.2922567129135132,
                   0.4919678866863251, 0.1328771412372589, 1.123548150062561, 1.7501938343048096, 0.2152014523744583,
                   0.33061981201171875, 1.627301573753357, 0.3724079430103302, 2.489748477935791, 0.1665288209915161,
                   1.4909541606903076, 0.07862386852502823, 0.6303119659423828, 2.7867228984832764, 1.8002865314483643,
                   1.6107254028320312, 0.8335363268852234, 0.2814203202724457, 0.15204519033432007, 0.2496175765991211,
                   1.3043569326400757, 0.12728579342365265, 0.5402746796607971, 1.253543496131897, 2.114412307739258,
                   0.13924556970596313, 2.6689651012420654, 0.1535838395357132, 0.09957196563482285, 1.9548157453536987,
                   1.5606483221054077, 0.099445641040802, 0.2078694850206375, 0.025760343298316002, 0.4088772237300873,
                   0.49235618114471436, 0.08434246480464935, 0.33973878622055054, 0.07485979050397873,
                   0.37410280108451843, 0.06458346545696259, 1.6308162212371826, 1.8235102891921997, 0.6940027475357056,
                   0.3171449303627014, 0.35268634557724, 1.442458152770996, 1.4255774021148682, 3.6232614517211914,
                   0.23557859659194946, 0.07891509681940079, 2.306989908218384, 2.8850550651550293, 1.4269081354141235,
                   3.1068778038024902, 0.08930360525846481, 1.318707823753357, 0.10135520249605179, 0.5297150611877441,
                   1.1408588886260986, 0.011510439217090607, 0.17899852991104126, 0.20799387991428375,
                   1.912956714630127, 1.1868338584899902, 0.5759821534156799, 0.9461681246757507, 0.07836823165416718,
                   0.5995672345161438, 0.02347278967499733, 2.477078676223755, 0.11864331364631653, 0.9908527731895447,
                   0.7757266759872437, 0.40709561109542847, 1.357357382774353, 0.5069490671157837, 0.6651172041893005,
                   0.43849655985832214, 2.231919765472412, 0.44415733218193054, 0.6638281345367432, 2.8851118087768555]
    C = [0.0966968908905983, 0.28228330612182617, 0.139396533370018, 0.5610970258712769, 0.5653709173202515,
                   0.6098260283470154, 0.04023052006959915, 0.10993799567222595, 1.4098211526870728,
                   0.17007969319820404, 0.9854581952095032, 0.40763169527053833, 0.03692227974534035,
                   0.25976067781448364, 1.036252737045288, 1.160696029663086, 0.2230655997991562, 0.8210704922676086,
                   0.12039507180452347, 0.1462172418832779, 0.20603062212467194, 0.22612065076828003,
                   0.2127377986907959, 0.10330362617969513, 1.1033198833465576, 0.10780944675207138, 1.48527991771698,
                   0.26879388093948364, 0.09195241332054138, 1.5304017066955566, 0.4218766987323761,
                   0.46324461698532104, 0.7372391819953918, 0.4588205814361572, 3.036320447921753, 0.0707152783870697,
                   0.21476714313030243, 0.7130534648895264, 0.33187204599380493, 0.23693351447582245,
                   1.1030206680297852, 0.6837695240974426, 0.19799888134002686, 0.8941788077354431, 0.2109590619802475,
                   0.7274672985076904, 3.3868565559387207, 0.18781541287899017, 1.7225145101547241, 0.06390547007322311,
                   2.0573182106018066, 3.833681106567383, 0.8270318508148193, 0.4683707058429718, 0.38618889451026917,
                   0.28699952363967896, 0.6656185984611511, 0.29125484824180603, 0.45304402709007263,
                   0.055935341864824295, 3.0027902126312256, 0.14628644287586212, 0.312771201133728, 0.6549032926559448,
                   0.5987541675567627, 0.07629366964101791, 1.0175234079360962, 1.9482401609420776, 1.2648462057113647,
                   0.6620522141456604, 2.207198143005371, 1.1658023595809937, 0.0964871495962143, 0.4206664264202118,
                   2.442636013031006, 1.2751649618148804, 0.8186084628105164, 0.3289969563484192, 0.3545837998390198,
                   1.0757057666778564, 0.6469294428825378, 2.812988519668579, 2.2329649925231934, 1.8522977828979492,
                   2.5239436626434326, 0.2727644741535187, 0.43166786432266235, 0.07790382206439972, 0.4775041341781616,
                   0.15664072334766388, 0.5914517641067505, 3.0940816402435303, 2.033216714859009, 1.4834554195404053,
                   1.1310195922851562, 0.3551430106163025, 0.16247232258319855, 3.6943039894104004, 0.363906592130661,
                   0.3758799731731415, 1.7806601524353027, 0.1840142160654068, 3.85676908493042, 0.7851149439811707,
                   0.38037407398223877, 0.1963518261909485, 0.14975668489933014, 0.9590897560119629, 2.0808563232421875,
                   0.399639755487442, 0.13022829592227936, 0.30112236738204956, 0.5224039554595947, 0.7759064435958862,
                   2.623481035232544, 1.0010721683502197, 0.9629053473472595, 4.335246562957764, 1.1446716785430908,
                   0.1961420327425003, 1.54193115234375, 0.050141602754592896, 1.2696820497512817, 0.10663577169179916,
                   2.6646666526794434, 0.6640540957450867, 0.09485549479722977, 0.5459708571434021, 1.6346421241760254,
                   0.7568179368972778, 0.4347820281982422, 4.01494836807251, 1.1804569959640503, 3.436823606491089,
                   0.03270279988646507, 0.489391952753067, 1.935557246208191, 1.0623414516448975, 0.08426203578710556,
                   1.250851035118103, 0.44063326716423035, 3.1899662017822266, 3.009006977081299, 0.045651502907276154,
                   2.0814738273620605, 0.22326044738292694, 1.1453157663345337, 0.7711162567138672, 3.2776620388031006,
                   0.13886533677577972, 0.32449430227279663, 0.5817636847496033, 0.3959316611289978,
                   0.18758590519428253, 0.23454947769641876, 1.657630443572998, 0.5305470824241638, 0.34709325432777405,
                   0.6351085901260376, 1.400782823562622, 1.8539291620254517, 0.7073407769203186, 0.0917816162109375,
                   2.2920663356781006, 0.29666417837142944, 0.10718070715665817, 2.527172327041626, 0.8423516154289246,
                   0.6816800832748413, 2.516284704208374, 1.2528233528137207, 1.473043441772461, 0.02353687584400177,
                   0.44764041900634766, 0.5931056141853333, 0.18258211016654968, 1.1039674282073975, 0.4128803610801697,
                   1.2814463376998901, 4.179983615875244, 0.12154977768659592, 0.9398561120033264, 0.9785689115524292,
                   0.6504276394844055, 0.33875349164009094, 0.4509516954421997, 0.14279450476169586, 0.7628860473632812,
                   1.1230841875076294, 3.608250141143799, 0.2408865988254547, 1.0822983980178833, 0.11023901402950287,
                   0.5304608941078186, 0.06619289517402649, 1.2488105297088623, 0.7701213359832764, 1.378842830657959,
                   0.03508862107992172, 0.1293479949235916, 0.022291002795100212, 0.032356273382902145,
                   0.5406875014305115, 0.4406643211841583, 0.32186323404312134, 0.36282283067703247, 1.1135761737823486,
                   1.2864192724227905, 0.26872774958610535, 0.09145672619342804, 0.1464574933052063, 0.3319445848464966,
                   0.9323642253875732, 0.44084376096725464, 0.10756845027208328, 1.546324610710144, 0.08803299069404602,
                   2.836465358734131, 1.030083179473877, 0.045897647738456726, 0.20101824402809143,
                   0.035463228821754456, 0.405097633600235, 1.309758186340332, 0.26503363251686096, 1.8395264148712158,
                   0.14930742979049683, 1.5889508724212646, 0.1050599217414856, 1.2481964826583862, 1.5917080640792847,
                   2.6435275077819824, 0.5555945038795471, 0.42930757999420166, 0.24333350360393524, 0.9790834784507751,
                   0.03970670700073242, 0.07720934599637985, 0.8312594294548035, 0.06379365175962448,
                   2.7367477416992188, 2.4645073413848877, 0.17579424381256104, 0.7361369729042053, 0.12253739684820175,
                   0.09020118415355682, 1.319928526878357, 0.4530933201313019, 0.21041631698608398, 1.8197143077850342,
                   0.4878346920013428, 0.4043027460575104, 0.1942407786846161, 1.6618214845657349, 2.0409164428710938,
                   1.1205437183380127, 2.0275564193725586, 4.081525802612305, 0.4159076511859894, 0.5071179270744324,
                   1.4804332256317139, 0.3223016858100891, 0.11062808334827423, 0.11987230181694031,
                   0.15510804951190948, 2.893383264541626, 1.674664855003357, 0.2356136441230774, 0.013580352067947388,
                   1.339470386505127, 3.874051094055176, 2.4618265628814697, 0.11696154624223709, 2.286303758621216,
                   0.8641640543937683, 0.19236741960048676, 0.8995171785354614, 0.25853031873703003, 0.4165023863315582,
                   1.4844568967819214, 0.36776673793792725, 2.0114147663116455, 1.9559357166290283, 0.12187329679727554,
                   0.146095409989357, 0.4740957021713257, 1.072812795639038, 2.709047555923462, 0.9006595015525818,
                   0.7381318211555481, 0.17395053803920746, 0.07667028158903122, 0.12676353752613068,
                   1.1814717054367065, 0.6308461427688599, 2.081371545791626, 0.35680845379829407, 2.3564350605010986,
                   0.0068466635420918465, 2.8540470600128174, 0.3699076771736145, 1.547528862953186, 1.9194384813308716,
                   0.23636232316493988, 1.1757649183273315, 0.5545548796653748, 1.544592261314392, 0.42058756947517395,
                   0.2268742471933365, 1.633313775062561, 0.9321864247322083, 2.2239677906036377, 0.0938425362110138,
                   0.28539204597473145, 1.3612060546875, 0.18086077272891998, 1.1306828260421753, 0.5518671274185181,
                   1.4136563539505005, 0.39298418164253235, 1.198900818824768, 0.20184531807899475, 1.1228498220443726,
                   3.3729491233825684, 0.10053780674934387, 0.061383508145809174, 0.6549081206321716,
                   0.1655985563993454, 1.0932551622390747, 0.1659921556711197, 2.8378360271453857, 2.8644444942474365,
                   1.0004441738128662, 0.17423345148563385, 1.2061619758605957, 0.32401782274246216,
                   0.20779317617416382, 0.4595928490161896, 0.2681322693824768, 1.3014041185379028, 0.8492602705955505,
                   1.6458137035369873, 0.5476232767105103, 3.010941505432129, 1.626879096031189, 0.06124633178114891,
                   1.505051851272583, 0.5711970329284668, 0.12035666406154633, 2.296193838119507, 0.22460880875587463,
                   0.10440343618392944, 1.7848131656646729, 0.19505636394023895, 0.7130483388900757, 1.0499091148376465,
                   1.923864722251892, 2.111581563949585, 0.3789271414279938, 0.040173936635255814, 1.236225962638855,
                   1.6746975183486938, 0.4139232039451599, 2.2589001655578613, 0.23387600481510162, 2.083672046661377,
                   0.06681463867425919, 1.9643601179122925, 2.3449759483337402, 0.18393594026565552, 3.4503257274627686,
                   0.3521401882171631, 0.339179664850235, 0.13629946112632751, 1.6202677488327026, 0.7207730412483215,
                   0.13826730847358704, 0.9376044273376465, 0.24365249276161194, 0.05985117331147194,
                   0.14982464909553528, 1.3277136087417603, 2.3790884017944336, 1.418587327003479, 1.081516146659851,
                   0.2757633328437805, 1.2378040552139282, 2.452177047729492, 2.280139446258545, 2.347184658050537,
                   1.5121464729309082, 0.1714886575937271, 1.3971102237701416, 0.2291547954082489, 0.6694675087928772,
                   0.0013651300687342882, 0.2404896467924118, 0.07221236079931259, 0.06409123539924622,
                   1.471671223640442, 1.2445902824401855, 0.731417179107666, 0.154313862323761, 0.3694199025630951,
                   0.08019711077213287, 0.2071654200553894, 1.4903987646102905, 1.3820140361785889, 2.4032890796661377,
                   0.641279399394989, 0.6206526160240173, 0.39808401465415955, 0.6779488921165466, 1.201406478881836,
                   0.9698944091796875, 2.0674796104431152, 0.23659206926822662, 0.2921018898487091, 0.01607183739542961,
                   0.7669158577919006, 0.23211123049259186, 1.1350760459899902, 0.2569613456726074, 0.978569507598877,
                   1.4795584678649902, 1.4249348640441895, 1.8898632526397705, 0.5156894326210022, 0.2922567129135132,
                   0.4919678866863251, 0.1328771412372589, 1.123548150062561, 1.7501938343048096, 0.2152014523744583,
                   0.33061981201171875, 1.627301573753357, 0.3724079430103302, 2.489748477935791, 0.1665288209915161,
                   1.4909541606903076, 0.07862386852502823, 0.6303119659423828, 2.7867228984832764, 1.8002865314483643,
                   1.6107254028320312, 0.8335363268852234, 0.2814203202724457, 0.15204519033432007, 0.2496175765991211,
                   1.3043569326400757, 0.12728579342365265, 0.5402746796607971, 1.253543496131897, 2.114412307739258,
                   0.13924556970596313, 2.6689651012420654, 0.1535838395357132, 0.09957196563482285, 1.9548157453536987,
                   1.5606483221054077, 0.099445641040802, 0.2078694850206375, 0.025760343298316002, 0.4088772237300873,
                   0.49235618114471436, 0.08434246480464935, 0.33973878622055054, 0.07485979050397873,
                   0.37410280108451843, 0.06458346545696259, 1.6308162212371826, 1.8235102891921997, 0.6940027475357056,
                   0.3171449303627014, 0.35268634557724, 1.442458152770996, 1.4255774021148682, 3.6232614517211914,
                   0.23557859659194946, 0.07891509681940079, 2.306989908218384, 2.8850550651550293, 1.4269081354141235,
                   3.1068778038024902, 0.08930360525846481, 1.318707823753357, 0.10135520249605179, 0.5297150611877441,
                   1.1408588886260986, 0.011510439217090607, 0.17899852991104126, 0.20799387991428375,
                   1.912956714630127, 1.1868338584899902, 0.5759821534156799, 0.9461681246757507, 0.07836823165416718,
                   0.5995672345161438, 0.02347278967499733, 2.477078676223755, 0.11864331364631653, 0.9908527731895447,
                   0.7757266759872437, 0.40709561109542847, 1.357357382774353, 0.5069490671157837, 0.6651172041893005,
                   0.43849655985832214, 2.231919765472412, 0.44415733218193054, 0.6638281345367432, 2.8851118087768555]
    eigenvector=[A,B,C]
    eigenvector = np.array(eigenvector, dtype=np.float32)
    # 写入商品信息和特征向量
    # DataBASE().WriteCommodityData("区区饼干",3.00,"bottle",eigenvector)

    # FeatureID=[11,12,13,22]
    # result=DataBASE().InquireData(FeatureID)
    # print(result)